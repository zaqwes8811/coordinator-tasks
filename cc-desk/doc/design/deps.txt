http://stackoverflow.com/questions/10270328/the-simplest-and-neatest-c11-scopeguard
